<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>The Psychic Game</title>
  <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>

<body>
  	<div class="wrapper">
  	<div class="col-lg-3 col-md-3 col-xs-2"></div>
		<div class="row col-lg-6 col-md-6 col-xs-8 text-center">
			<header>
				<h1>The Psychic Game</h1>
			</header>

			<div class="container">
				<p>[Press the letters on the keyboard to continue]</p>
			</div>


	        <div id="game">
	          <ul class="list-group">
	            <span class="list-group-item col-md-6 col-xs-6">
	            	<p id="wins">Wins: </p>
	            </span>
	            
	            <span class="list-group-item col-md-6 col-xs-6">
	            	<p id="losses">Losses: </p>
	            </span>
	            
	            <span class="list-group-item col-md-12 col-xs-12">
	            	<p id="guessLeft">Guesses Left: </p>
	            </span>
	            
	            <span class="list-group-item col-md-12 col-xs-12">
	            	<p id="let">Your Guesses:</p>
	            </span>
	          </ul>  
	        </div>


			<div class="container">
				<h3>...choose wisely...</h3>
			</div>
	    </div>
	</div>


	<div class="container">
    	<footer class="footer text-center">
        	<p>&copy; 2017 Andalib Kibria</p>
      	</footer>
	</div>



	<script type="text/javascript">
		var computerChoices = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];

		var wins = 0;
		var losses = 0;
		var guesses = 9;
		var guessesLeft = 9;
		var guessedLetters = [];
		var letterToGuess = null;


		var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];

		var updateGuessesLeft = function() {
		  document.querySelector('#guessLeft').innerHTML = "Guesses left: " + guessesLeft;
		};

		var updateLetterToGuess = function() {
		  this.letterToGuess = this.computerChoices[Math.floor(Math.random() * this.computerChoices.length)];
		};
		var updateGuessesSoFar = function() {
		  document.querySelector('#let').innerHTML = "Your Guesses: <br>" + guessedLetters.join(', ');
		};
		
		var reset = function() {
		  totalGuesses = 9;
		  guessesLeft = 9;
		  guessedLetters = [];

		  updateLetterToGuess();
		  updateGuessesLeft();
		  updateGuessesSoFar();
		}

		updateLetterToGuess();
		updateGuessesLeft();


		document.onkeyup = function(event) {
		    guessesLeft--;
			var userGuess = String.fromCharCode(event.keyCode).toLowerCase();
		  	guessedLetters.push(userGuess);
		  	updateGuessesLeft();
		  	updateGuessesSoFar();

		        if (guessesLeft > 0){
		            if (userGuess == letterToGuess){
		                wins++;
		                document.querySelector('#wins').innerHTML = "Wins: " + wins;
		                alert("You guessed right. You win!");
		                reset();
		            }
		        }
		        else if(guessesLeft == 0){
		            losses++;
		            document.querySelector('#losses').innerHTML = "Losses: " + losses;
		            alert("Sorry, try again?");
					reset();
		        }
		};
    </script>

</body>
</html>